version: "3.1"

rules:

  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Say I am bot
    steps:
      - intent: bot_challenge
      - action: utter_bot_challenge     

  - rule: activate form loop
    steps: 
      - intent: apply_leave
      - action: apply_leave_form
      - active_loop: apply_leave_form

  - rule: submit form
    condition:
    - active_loop: apply_leave_form
    steps:
    - action: apply_leave_form
    - active_loop: null
    - slot_was_set: 
      - requested_slot: null
    - action: action_say_leave  


  - rule: interruption in simple form
    condition:
    - active_loop: apply_leave_form
    steps:
    - intent:  bot_challenge
    - action: utter_bot_challenge
    - action: apply_leave_form
    - active_loop: apply_leave_form

  # Other rules

  - rule: Greet user
    steps:
      - intent: greet
      - action: utter_greet

  - rule: Show available leaves
    steps:
      - intent: available_leaves
      - action: action_check_leave_balance


  - rule: Check holidays
    steps:
      - intent: upcoming_holidays

  
